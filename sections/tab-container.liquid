{{ 'tab-container.css' | asset_url | stylesheet_tag }}
<script src="{{ 'tab-container.js' | asset_url }}" defer="defer"></script>

{%- assign tabn = 1 -%}
<div class="page-width page-content" style="position: flex;">
<div class="tabs-container">
    <div class="tab-buttons" id="tabContainer"></div>
  {% for block in section.blocks %}
    {% case block.type %}
    {% when 'text' %}
        {% if block.settings.title != blank %}
        <div class="tab" onclick="changeTab({{ tabn }})">{{ block.settings.title }}</div>      
        {% endif %}
       {% endcase %}
    {%- assign tabn = tabn +1 -%}
  {% endfor %}
</div>

  {%- assign tabn = 1 -%}
  {% for block in section.blocks %}
    {% case block.type %}
      {% when 'text' %}
        {% if block.settings.title != blank %}
            <div id="content{{ tabn }}" class="tab-content">
                <h3>{{ block.settings.title }}</h3>
                <p>{{ block.settings.text }}</p>
                <a href="{{ block.settings.btn }}" class="btn">{{ block.settings.btntxt }}</a></div>
                <img scr="{{ block.settings.image |  file_url }}" width="300" height="300">
        {% endif %}
    {% endcase %}
    {%- assign tabn = tabn | plus: 1 -%}
  {% endfor %}
</div>

{% schema %}
{
  "name": "TAB",
  "blocks": [
    {
      "type": "text",
      "name": "Text",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Heading",
          "default": "Talk about your brand"
        },
        {
          "type": "richtext",
          "id": "text",
          "label": "Texto",
          "default": "<p></p>"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Presentacion de la categoria"  
        },
        {
          "type": "url",
          "id": "btn",
          "label": "Link Tarjeta"
        },
        {
          "type": "text",
          "id": "btntxt",
          "label": "Texto del Boton",
          "default": "Discover Collection"
        }
      ]
    }
  ]
}
{% endschema %}
